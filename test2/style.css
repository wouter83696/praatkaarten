@import url("https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@400;500&display=swap");

/* =========================================================
   PRAATKAARTEN — style.css (met warm grijs/bruin voor X + pijlen)
   Doel:
   - Cursor (overlay) + kruisje/pijlen NIET blauw maar warm grijs/bruin
   - Hinttekst alleen op telefoon portrait
   ========================================================= */

/* ===============================
   VARS
   =============================== */
:root{
  --gap:18px;
  --radius:16px;

  --shadow:0 14px 40px rgba(0,0,0,.12);
  --shadowHover:0 18px 55px rgba(0,0,0,.16);

  --textBlue: rgba(48,96,136,.95);
  --uiBlue: rgba(48,96,136,.85);

  /* WARM "INKT" (bruin-grijs) */
  --uiInk: rgba(11,18,32,.45);
  --uiInkSoft: rgba(11,18,32,.22);
}

*{box-sizing:border-box}

html,body{
  margin:0;
  min-height:100%;
  background:#fff;
  font-family:"IBM Plex Sans", system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
  -webkit-text-size-adjust:100%;
}

/* ===============================
   KAARTEN (basis)
   =============================== */
.card{
  background:#fff;
  border-radius:var(--radius);
  box-shadow:var(--shadow);
}

@media (hover:hover){
  .card:hover{
    box-shadow:var(--shadowHover);
    transform:translateY(-2px);
  }
}

/* ===============================
   OVERLAY / LIGHTBOX
   =============================== */
.lb,
.lightbox,
.modalOverlay,
.overlay{
  cursor:crosshair;
}

.lb{
  position:fixed;
  inset:0;
  background:rgba(255,255,255,.45);
  backdrop-filter:blur(14px);
  -webkit-backdrop-filter:blur(14px);
  z-index:999;
}

/* Actieve kaart in overlay */
.lb .card{
  box-shadow:
    0 8px 18px rgba(0,0,0,.14),
    0 32px 60px rgba(0,0,0,.18);
}

/* ===============================
   ONDERSTE BALK
   =============================== */
.controlsBar{
  position:fixed;
  bottom:0;
  left:0;
  right:0;
  z-index:1000;
}

.controlsBar .inner{
  max-width:1100px;
  margin:0 auto;
  padding:14px 20px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:16px;
}

/* links */
.controlsBar .btnGroup{
  display:flex;
  gap:14px;
  align-items:center;
}

/* hint standaard uit */
.controlsBar .help{
  display:none;
  font-size:.9em;
  opacity:.70;
  white-space:nowrap;
  transition:opacity .8s ease;
}
.controlsBar .help.is-hidden{
  opacity:0;
  pointer-events:none;
}

/* Telefoon portrait: hint aan + links/rechts fullwidth */
@media (hover:none) and (pointer:coarse) and (orientation:portrait){
  .controlsBar .inner{
    width:100%;
    max-width:none;
    padding-left:clamp(14px, 3vw, 28px);
    padding-right:clamp(14px, 3vw, 28px);
  }
  .controlsBar .help{
    display:block;
    margin-left:auto;
    text-align:right;
  }
}

/* Telefoon landscape: balk weg */
@media (hover:none) and (pointer:coarse) and (orientation:landscape){
  .controlsBar{ display:none; }
}

/* =========================================================
   ✅ KRUISJE + PIJLEN + NAV: warm grijs/bruin i.p.v. blauw
   (robuste selectors, zodat het pakt ongeacht classnames)
   ========================================================= */

/* Alles wat als "controls" fungeert in overlay */
.lb button,
.lb [role="button"],
.lb .close,
.lb .closeBtn,
.lb .navBtn,
.lb .iconBtn,
.lb .prev,
.lb .next,
.lb .arrow,
.lb .nav,
.lb .navPrev,
.lb .navNext,
.lb [aria-label*="Close" i],
.lb [aria-label*="Sluit" i],
.lb [data-action="close"],
.lb [data-action="prev"],
.lb [data-action="next"],
.lightbox button,
.lightbox [role="button"]{
  color:var(--uiInk) !important;
}

/* Als pijlen/kruisje SVG zijn: forceer stroke/fill naar currentColor */
.lb svg,
.lightbox svg{
  stroke:currentColor !important;
  fill:none !important;
}

.lb svg path,
.lightbox svg path{
  stroke:currentColor !important;
  fill:currentColor !important; /* ok als het een gevuld icoon is */
}

/* Als pijlen/kruisje als teksttekens worden getoond (‹ › ×) */
.lb .close,
.lb .prev,
.lb .next,
.lb .arrow,
.lb .navBtn,
.lb .iconBtn{
  color:var(--uiInk) !important;
}

/* Hover iets donkerder (desktop) */
@media (hover:hover){
  .lb button:hover,
  .lb [role="button"]:hover,
  .lb .close:hover,
  .lb .prev:hover,
  .lb .next:hover,
  .lb .arrow:hover{
    color:rgba(11,18,32,.72) !important;
  }
}

/* Focus ring (toegankelijk, rustig) */
.lb button:focus-visible,
.lb [role="button"]:focus-visible,
.controlsBar button:focus-visible{
  outline:2px solid var(--uiInkSoft);
  outline-offset:2px;
  border-radius:10px;
}

/* ===============================
   Buttons in bottom bar (ook warm)
   =============================== */
.controlsBar button,
.controlsBar a{
  color: rgba(11,18,32,.45);
}

.controlsBar button:hover,
.controlsBar a:hover{
  color: rgba(11,18,32,.72);
  background: rgba(0,0,0,.04);
}


/* =========================================================
   ✅ Eindfix: Hussel + Reset strak links, dicht bij elkaar
   - voorkomt dat een (onzichtbare) hint ruimte blijft innemen
   - geen 'space-between' maar links uitlijnen
   ========================================================= */

/* Maak de balk full-width zonder centrering via max-width */
.controlsBar .inner{
  max-width:none;
  margin:0;
  justify-content:flex-start;
}

/* Hussel + Reset compacter */
.controlsBar .btnGroup{
  gap:6px;
}

.controlsBar .sep{
  margin:0 6px;
  height:16px;
}

/* Desktop: hint helemaal uit layout halen */
@media (hover:hover) and (pointer:fine){
  .controlsBar .help{ display:none !important; }
}

.controlsBar button svg,
.controlsBar a svg{
  stroke:currentColor !important;
  fill:none !important;
}

/* ===============================
   MOBILE (touch)
   - Balk: WEL in portrait, WEG in landscape
   =============================== */
@media (pointer: coarse) and (orientation: landscape){
  .controlsBar{ display:none !important; }
}

/*
  BELANGRIJK (mobiel): verberg alleen de swipe-pijlen,
  maar laat het sluitkruisje wél klikbaar.
  In eerdere builds werd alles in de overlay uitgezet (display:none/pointer-events:none),
  waardoor het kruisje op telefoon "dood" werd.
*/
@media (pointer: coarse){
  .lb .chev{ 
    display:none !important;
    opacity:0 !important;
    pointer-events:none !important;
  }
  /* Close moet altijd kunnen */
  .lb #close,
  .lb .overlayClose{
    display:flex !important;
    opacity:1 !important;
    pointer-events:auto !important;
  }
}

/* Overlay close staat boven alles en blijft altijd klikbaar */
.lb .overlayClose{
  position: fixed;
  z-index: 1002;
  width: 44px;
  height: 44px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  touch-action: manipulation;
  pointer-events: auto;
}

/* Extra (onzichtbare) hitbox om mobiel te sluiten, zonder dat je precies hoeft te mikken */
#closeHitbox{
  position: fixed;
  z-index: 1001;
  width: 76px;
  height: 76px;
  background: transparent;
  border-radius: 999px;
  pointer-events: auto;
}

/* ------------------------------------------------------------
   CLOSE BUTTON (opnieuw geplaatst)
   Doel: op mobiel altijd klikbaar, bovenop alle layers.
   Gebruik: #lbClose + #lbCloseHitbox
------------------------------------------------------------ */
.lbClose{
  position: fixed;
  top: calc(env(safe-area-inset-top, 0px) + 10px);
  right: 10px;
  width: 44px;
  height: 44px;
  display: grid;
  place-items: center;
  background: rgba(255,255,255,.92);
  border: 1px solid rgba(0,0,0,.12);
  border-radius: 999px;
  box-shadow: none;
  color: rgba(0,0,0,.74);
  z-index: 2000000;
  -webkit-tap-highlight-color: transparent;
  touch-action: manipulation;
  pointer-events: auto;
}
.lbClose svg{
  width: 22px;
  height: 22px;
}
.lbClose svg path{
  fill: none;
  stroke: currentColor;
  stroke-width: 2.2;
  stroke-linecap: round;
  stroke-linejoin: round;
}

#lbCloseHitbox{
  position: fixed;
  top: calc(env(safe-area-inset-top, 0px) + 2px);
  right: 2px;
  width: 84px;
  height: 84px;
  z-index: 2000001;
  opacity: 0;
  pointer-events: auto;
}

/* Alleen actief wanneer lightbox open is */
.lb:not(.open) .lbClose,
.lb:not(.open) #lbCloseHitbox{
  pointer-events: none;
  opacity: 0;
}

/* ===============================
   NAV HINT (rechts, kort zichtbaar bij openen)
   (alleen relevant als je in HTML een .nav-hint in de overlay plaatst)
   =============================== */
.nav-hint{
  position: fixed;
  right: 16px;
  top: 50%;
  transform: translateY(-50%);
  font-size: 13px;
  line-height: 1.4;
  color: rgba(0,0,0,.55);
  opacity: 0;
  pointer-events: none;
  transition: opacity .4s ease;
  z-index: 999;
  text-align: right;
}
.lb.open .nav-hint{ opacity: 1; }
.lb.hide-hint .nav-hint{ opacity: 0; }

/* =========================================================
   FIX: Hussel | Reset compact links (desktop + mobiel)
   - Voorkomt dat de balk de knoppen uit elkaar trekt
   ========================================================= */
.controlsBar .inner{
  justify-content:flex-start !important;
}

/* Knoppen als één compact cluster */
.controlsBar .btnGroup{
  gap:6px !important;
}

/* Subtiele scheider (|) zonder grote tussenruimte */
.controlsBar .sep{
  height:16px !important;
  margin:0 4px !important;
  background:rgba(0,0,0,.18) !important;
}

/* =========================================================
   DEFINITIEVE FIX — Hussel | Reset links & compact
   (overschrijft ALLES erboven)
   ========================================================= */

/* Zorg dat de balk niet kunstmatig gecentreerd wordt */
.controlsBar{
  left:0 !important;
  right:0 !important;
}

.controlsBar .inner{
  max-width:none !important;
  margin:0 !important;
  justify-content:flex-start !important;
}

.controlsBar .btnGroup{
  gap:6px !important;
}

.controlsBar .sep{
  margin:0 6px !important;
}

/* Op desktop hoeft de swipe-hint geen layout-ruimte te pakken */
@media (hover: hover) and (pointer: fine){
  .controlsBar .help{ display:none !important; }
}

/* UITLEG MODAL (telefoon) */
body.hm-open{ overflow:hidden; }
.helpModal{
  position:fixed; inset:0; display:none;
  align-items:center; justify-content:center;
  padding:12px; z-index:1000;
  background:rgba(255,255,255,.14);
  backdrop-filter:blur(12px);
  -webkit-backdrop-filter:blur(12px);
}
.helpModal.open{ display:flex; }
.helpPanel{
  position:relative;
  width: min(640px, 96vw);
  height: min(820px, 92dvh);
  border-radius:18px;
  overflow:hidden;
  background:#FAFAF8;
  box-shadow: 0 18px 45px rgba(0,0,0,.20);
}
.helpFrame{ width:100%; height:100%; border:0; display:block; }
.helpClose{
  position:absolute; top:10px; right:10px;
  width:40px; height:40px;
  border:0; border-radius:999px;
  background:rgba(0,0,0,.04);
  color:rgba(11,18,32,.82);
  cursor:pointer;
  z-index:2;
}
.helpClose:hover{ background:rgba(0,0,0,.08); }


/* === Hover: subtiele 'soft white' (geen pill) === */
.menuBtn, .menu a, .menu button{
  border-radius: 10px;
  transition: background-color .15s ease, color .15s ease;
}
@media (hover:hover){
  .menuBtn:hover, .menu a:hover, .menu button:hover{
    background: rgba(255,255,255,0.55);
  }
}






/* ===============================
   UI REFINEMENT v3.3.26 (phone-first)
   - Icon controls: calm pill, no shadow
   - Grid cards: clear selectable objects (no shadow), slightly tighter radius than sheet
   - Sheet/explain: warmer + softer radius
   =============================== */

:root{
  --sheet-bg: #FCFAF6;
  --sheet-border: rgba(0,0,0,.08);
  --grid-bg: #FFFFFF;
  --grid-border: rgba(0,0,0,.14);
  --icon-fg: rgba(0,0,0,.45);
  --icon-fg-active: rgba(0,0,0,.65);
  --radius-sheet: 18px;
  --radius-card: 12px;
}

/* --- ICON PILLS (shuffle + info) --- */
.pillsDock, .controlsBar, .pillsLeft{
  /* keep placement logic as-is; only visuals here */
}

.pillsDock .pill,
.controlsBar .pill,
.pillsLeft .pill,
.pill.btn,
button.pill,
.btn.pill{
  background: color-mix(in srgb, var(--sheet-bg) 92%, transparent);
  border: 1px solid var(--sheet-border);
  border-radius: 999px;
  box-shadow: none !important;
  color: var(--icon-fg);
  -webkit-tap-highlight-color: transparent;
}

.pillsDock .pill:active,
.controlsBar .pill:active,
.pillsLeft .pill:active,
.pill.btn:active,
button.pill:active{
  background: rgba(0,0,0,.05);
  color: var(--icon-fg-active);
}

/* If icons are SVG paths, inherit currentColor */
.pill svg, .pill svg *{ fill: currentColor; stroke: currentColor; }

/* --- CLOSE BUTTON (inside sheet) --- */
.close, .btn.close, button.close{
  background: color-mix(in srgb, var(--sheet-bg) 92%, transparent);
  border: 1px solid var(--sheet-border);
  border-radius: 999px;
  box-shadow: none !important;
  color: var(--icon-fg);
}
.close:active{ background: rgba(0,0,0,.05); color: var(--icon-fg-active); }

/* --- GRID CARDS --- */
.grid .card,
.grid .lbCard,
.grid .cardShell,
.grid .cardShell .card,
.cardShell .card,
.lbCard{
  background: var(--grid-bg);
  border: 1px solid var(--grid-border);
  border-radius: var(--radius-card);
  box-shadow: none !important;
  overflow: hidden;
}

/* subtle press feedback (mobile) */
.grid .card:active,
.grid .lbCard:active,
.grid .cardShell:active,
.lbCard:active{
  background: rgba(0,0,0,.03);
}

/* --- EXPLAIN/SHEET --- */
.sheet, .explainCard, .explain-card, .uitleg, .overlaySheet{
  background: var(--sheet-bg);
  border: 1px solid var(--sheet-border);
  border-radius: var(--radius-sheet);
  box-shadow: none !important;
}



/* UI PATCH v3.3.28: harder icon tone */
.pillsDock .pill, .controlsBar .pill, .pillsLeft .pill, .pill.btn, button.pill, .btn.pill{
  color: rgba(0,0,0,.74) !important;
  background: rgba(255,255,255,.92) !important;
  border: 1px solid rgba(0,0,0,.12) !important;
  box-shadow:none !important;
}



/* ===============================
   MOBILE INTRO (uitleg bottom-sheet)
   - default verborgen
   - body.show-intro => zichtbaar
   =============================== */
.mobileIntro{
  background: transparent;
  touch-action: none;
  will-change: transform;
}

/* FIX: sheet mag het grid niet blokkeren als hij dicht is */
.mobileIntro{ pointer-events: none; }
body.show-intro .mobileIntro{ pointer-events: auto; }


body.show-intro{
  overflow: hidden;
  overscroll-behavior: contain;
}

body.show-intro .mobileIntro{
  background: transparent;
}

/* de track zelf als sheet */
.mobileIntro .introTrack{
  position: absolute;
  left: 0;
  right: 0;
  bottom: 0;
  max-height: 88vh;
  overflow: hidden;
  background: var(--sheet-bg);
  border-top-left-radius: var(--radius-sheet);
  border-top-right-radius: var(--radius-sheet);
  border: 1px solid var(--sheet-border);
  border-bottom: none;
  touch-action: pan-x;
}

/* zorg dat controls altijd boven het sheet zitten */
.pillsDock, .controlsBar, .pillsLeft{
  z-index: 3500;
}

/* close altijd boven alles */
.lbClose, #lbCloseHitbox{
  z-index: 6000;
}



/* Intro carousel layout */
.mobileIntro .introTrack{
  display: flex;
  gap: 12px;
  padding: 14px 14px calc(14px + env(safe-area-inset-bottom));
  overflow-x: auto;
  overflow-y: hidden;
  scroll-snap-type: x mandatory;
  -webkit-overflow-scrolling: touch;
  touch-action: pan-x;
}
.mobileIntro .introTrack::-webkit-scrollbar{ display:none; }

.introCard{
  flex: 0 0 100%;
  scroll-snap-align: center;
  position: relative;
}

.introImgWrap{
  border-radius: var(--radius-sheet);
  overflow: hidden;
  border: 1px solid var(--sheet-border);
  background: #fff;
}
.introImg{
  width: 100%;
  height: auto;
  display: block;
}

.introTheme{
  position: absolute;
  left: 0;
  right: 0;
  top: 40%;
  text-align: center;
  font-weight: 600;
  color: rgba(0,0,0,.55);
  pointer-events: none;
}

.introText{
  margin-top: 10px;
  border-radius: 12px;
  background: rgba(255,255,255,.85);
  border: 1px solid rgba(0,0,0,.08);
  padding: 12px 12px;
}

.introTextBody{
  font-size: 15px;
  line-height: 1.35;
  color: rgba(0,0,0,.75);
}

/* Close button inside intro card (optioneel) */
.introClose{
  position: absolute;
  top: 10px;
  right: 10px;
  width: 38px;
  height: 38px;
  border: 0;
  border-radius: 999px;
  background: rgba(255,255,255,.72);
  -webkit-backdrop-filter: blur(10px);
  backdrop-filter: blur(10px);
  color: rgba(0,0,0,.65);
  display: grid;
  place-items: center;

  /* ✕ alleen zichtbaar als sheet stabiel is (JS togglet .is-stable) */
  opacity: 0;
  pointer-events: none;
  transition: opacity 150ms ease;
}

.mobileIntro.is-stable .introClose{
  opacity: 1;
  pointer-events: auto;
}

/* Tijdens horizontaal scrollen (links/rechts) fades de ✕ even weg */
.mobileIntro.x-scrolling .introClose{
  opacity: 0;
  pointer-events: none;
}

.grid{
  position: relative;
  z-index: 1;
}
.lbBg, .mobileIntro{
  z-index: 10;
}

/* MOBILE-ONLY CONTAINER (v3.6.0) */
:root { --phone-max: 520px; }
body { display:flex; justify-content:center; }
#app, .app, main { width:100%; max-width:var(--phone-max); margin:0 auto; }
